<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OUTA DOW - Media Saver</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Existing Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow&display=swap" rel="stylesheet">
    <!-- New Fonts for Player -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Permanent+Marker&display=swap" rel="stylesheet">
    
    <!-- Icons and Libraries -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

    <style>
        /* Base and Background Styles */
        *, *::after, *::before { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background-color: #080a0f; }
        .bg { position: relative; display: flex; justify-content: center; min-height: 100dvh; background-color: black; background-image: url('https://20essentials.github.io/project-000-128/assets/n1.avif'); background-position: center; background-size: cover; overflow: hidden; transition: background-image 0.5s ease-in-out, background-color 0.5s ease-in-out; }
        .inner { mix-blend-mode: overlay; inset: 0; position: absolute; animation: moveInner 10s ease infinite alternate; }
        @keyframes moveInner {
            0% { background-color: #f0f; } 25% { background-color: #0f0; } 50% { background-color: #00f; } 75% { background-color: #f00; } 100% { background-color: #ff0; }
        }
        .main-content-container { position: relative; z-index: 10; }

        /* Toast Styles */
        .toast { animation: fade-in-out 3s forwards; }
        @keyframes fade-in-out { 0% { opacity: 0; transform: translateY(20px); } 10% { opacity: 1; transform: translateY(0); } 90% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-20px); } }
        
        /* Home Page Styles */
        .shimmer-container { position: relative; overflow: hidden; background: linear-gradient(135deg, #3a3897 0%, #2c2a72 40%, #1a1a4e 100%); border: 1px solid #3a3897; }
        .shimmer-container::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 70%); animation: shimmer 15s infinite linear; pointer-events: none; z-index: 1; }
        @keyframes shimmer { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #save-button { animation: gentleBob 2.5s ease-in-out infinite; }
        @keyframes gentleBob { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }
        .download-item, .no-downloads-placeholder { background: linear-gradient(135deg, #2c2a72 0%, #1a1a4e 100%); animation: fadeInUp 0.6s ease-out forwards; opacity: 0; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .progress-bar-fill { background: linear-gradient(90deg, #f52cb9, #8e44ad); transition: width 0.3s ease-out; }

        /* Navigation Styles */
        nav { background-color: rgba(26, 32, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid #252e45; border-radius: 100px; display: flex; flex-wrap: wrap; position: fixed; bottom: 1rem; left: 50%; transform: translateX(-50%); z-index: 100; }
        nav a { border-radius: 100px; display: flex; align-items: center; justify-content: center; font-family: "ff-chambers-sans-web", sans-serif; font-weight: 500; text-decoration: none; position: relative; margin: 4px; padding: 12px; overflow: hidden; }
        nav a:hover .label { bottom: 2px; opacity: 1; }
        nav a .icon { font-size: 28px; color: #fff; display: flex; align-items: center; justify-content: center; z-index: 1; mix-blend-mode: exclusion; }
        nav a .label { color: #fff; position: absolute; bottom: -8px; font-family: "PT Sans Narrow", serif; font-size: 0.8rem; mix-blend-mode: exclusion; opacity: 0; z-index: 1; transition: bottom 200ms ease, opacity 200ms ease; text-transform: lowercase; }
        nav a svg { position: absolute; bottom: 0; left: 0; }
        nav a svg rect { shape-rendering: crispEdges; z-index: 0; }
        nav a svg .blue rect { fill: #05eafa; mix-blend-mode: color-dodge; }
        nav a svg .pink rect { fill: #f52cb9; }
        nav a.active .label { bottom: 2px; opacity: 1; }
        @media (max-width: 640px) { nav a { padding: 10px; margin: 3px; } }

        /* Player Styles (Scoped to #page-play) */
        #page-play {
            --light-clr: #e5e5e5; --primary-clr: #6490f6; --secondary-clr: #c1daff; --active-clr: rgba(149, 153, 186, 0.4); --player-bg: rgba(5, 9, 51, 0.4); --scrollbar-track: rgb(79, 78, 78); --scrollbar-thumb: rgb(116, 116, 116);
            font-family: "Nunito", sans-serif;
        }
        #page-play *, #page-play *::before, #page-play *::after { box-sizing: border-box; padding: 0; margin: 0; }
        #page-play h1 { font-size: clamp(0.8rem, 3vw, 1rem); }
        #page-play p { font-size: clamp(0.7rem, 3vw, 1rem); }
        #page-play .content {
            position: relative;
            width: 90%;
            height: 90%;
            display: grid;
            grid-template-columns: 100%;
            place-items: center;
            background: rgba(53, 54, 72, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 0 0.5px 0 1px rgba(255, 255, 255, 0.2) inset, 0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 4px 16px rgba(0, 0, 0, 0.1);
            z-index: 10;
            color: var(--light-clr);
            overflow-y: auto;
            padding: 30px 30px 10px;
        }
        #page-play .content::-webkit-scrollbar { width: 7px; }
        #page-play .content::-webkit-scrollbar-track { box-shadow: inset 0 0 0.3rem var(--scrollbar-track); border-radius: 40px; margin: 18px 0; }
        #page-play .content::-webkit-scrollbar-thumb { box-shadow: inset 0 0 0.5rem var(--scrollbar-thumb); background-color: var(--primary-clr); outline: none; border-radius: 40px; }
        #page-play .slider-playlist { display: grid; grid-template-columns: 45% 55%; align-items: center; }
        #page-play .swiper { width: 300px; height: auto; }
        #page-play .swiper-slide { display: grid; grid-template-rows: auto 1fr; padding: 15px; border-radius: 10px; background-color: #d3d2d6; box-shadow: 0 0.5px 0 1px rgba(255, 255, 255, 0.2) inset, 0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 4px 16px rgba(0, 0, 0, 0.1); user-select: none; }
        #page-play .swiper-slide img { display: block; user-select: none; width: 100%; height: auto; object-fit: cover; aspect-ratio: 1/1; border-radius: 5px; margin-bottom: 14px; pointer-events: none; }
        #page-play .swiper-slide h1 { width: max-content; font-family: "Permanent Marker", serif; letter-spacing: 2px; color: #222224; text-transform: uppercase; transform: rotate(-3deg); margin: auto; }
        #page-play .playlist { width: 100%; }
        #page-play .playlist-item { display: grid; grid-template-columns: 15% 65% 15% 5%; align-items: center; width: 100%; height: auto; padding: 8px 10px; margin-bottom: 15px; border-bottom: 2px solid var(--primary-clr); color: var(--light-clr); cursor: pointer; user-select: none; }
        #page-play .playlist-item img { display: block; user-select: none; width: 70%; height: auto; object-fit: cover; aspect-ratio: 1/1; border-radius: 5px; overflow: hidden; }
        #page-play .playlist-item .song p:nth-child(1) { font-weight: 500; margin-bottom: 3px; }
        #page-play .playlist-item .song p:nth-child(2) { font-weight: 300; opacity: 0.5; }
        #page-play .playlist-item i { font-size: 1.2rem; color: var(--light-clr); }
        #page-play .active-playlist-item { background-color: var(--active-clr); border-radius: 5px; }
        #page-play .player { position: sticky; left: 0; bottom: 0; width: 100%; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 10px; background: var(--player-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.25); display: flex; flex-direction: column; align-items: center; padding: 10px 0 5px; z-index: 15; overflow: hidden; }
        #page-play .controls { display: flex; justify-content: center; align-items: center; column-gap: 25px; }
        #page-play .controls i { font-size: 1.7rem; cursor: pointer; transform: scale(1); will-change: transform; }
        #page-play #playPauseBtn { display: flex; align-items: center; justify-content: center; width: 45px; aspect-ratio: 1/1; margin: 5px 0; color: var(--primary-clr); outline: 0; background: var(--light-clr); border: 2px solid rgba(255, 255, 255, 0.3); border-radius: 50%; box-shadow: 0 10px 20px rgba(5, 36, 28, 0.3); font-size: 1.5rem; transform: scale(1); will-change: transform; }
        #page-play #shuffleBtn:hover, #page-play #prevBtn:hover, #page-play #nextBtn:hover, #page-play #playPauseBtn:hover { transform: scale(1.05); }
        #page-play .volume { position: relative; display: flex; align-items: center; }
        #page-play .volume i { color: var(--light-clr); font-size: 1.2rem; }
        #page-play #volume-range { position: absolute; left: 30px; top: 7px; appearance: none; -webkit-appearance: none; width: 120px; height: 4px; background: var(--primary-clr); border-radius: 4px; cursor: pointer; }
        #page-play #volume-range::-webkit-slider-thumb { appearance: none; -webkit-appearance: none; background: var(--light-clr); width: 12px; aspect-ratio: 1/1; border-radius: 50%; }
        #page-play #progress-bar { appearance: none; -webkit-appearance: none; width: 90%; height: 5px; background: linear-gradient( 90deg, var(--light-clr), var(--secondary-clr), var(--primary-clr), var(--secondary-clr), var(--light-clr) ); border-radius: 4px; margin: 12px 0 16px; cursor: pointer; }
        #page-play #progress-bar::-webkit-slider-thumb { appearance: none; -webkit-appearance: none; background: var(--light-clr); width: 15px; aspect-ratio: 1/1; border-radius: 50%; }
        @media (max-width: 1300px) { #page-play .swiper { width: 270px; } }
        @media (max-width: 1100px) { #page-play .content { padding: 40px 20px 20px; } #page-play .swiper { width: 240px; } #page-play .slider-playlist { grid-template-columns: 50% 50%; } }
        @media (max-width: 900px) { #page-play .content { padding: 30px 40px 20px; overflow-x: hidden; } #page-play .slider-playlist { grid-template-columns: 100%; } #page-play .swiper { margin: 30px auto 50px; } #page-play .player { width: 110%; } #page-play #volume-range { width: 50px; } }
        @media (max-width: 580px) { #page-play .content { overflow-x: hidden; } #page-play .swiper { width: 220px; margin: 20px auto 35px; } #page-play .playlist-item { margin-bottom: 10px; } #page-play .player { width: 115%; } #page-play .controls { column-gap: 15px; } #page-play .controls i { font-size: 1.3rem; } #page-play #playPauseBtn { width: 40px; font-size: 1.2rem; } #page-play .volume i { font-size: 0.9rem; } #page-play #volume-range { left: 20px; top: 6px; width: 40px; } }
    </style>
</head>
<body class="bg-gray-900 text-white antialiased">
    <main class="bg">
        <aside class="inner"></aside>
        <div id="toast-container" class="fixed bottom-5 right-5 z-50"></div>

        <!-- Home Page -->
        <div id="page-home" class="page-content main-content-container container mx-auto px-4 py-8 md:py-16 min-h-screen flex flex-col items-center w-full">
            <header class="mb-8 w-full max-w-2xl text-center">
                <div class="flex items-center justify-center gap-3">
                    <h1 class="text-5xl sm:text-6xl md:text-7xl font-black tracking-tighter text-white" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">OUTA</h1>
                    <span class="bg-[#f52cb9] text-white text-xs font-bold px-3 py-1 rounded-full -translate-y-3">DOW</span>
                </div>
                <p class="text-lg text-gray-200 mt-2">Download videos and playlists from YouTube as music.</p>
            </header>
            <div class="w-full max-w-2xl shimmer-container rounded-xl shadow-2xl p-6 border-gray-700">
                <div class="relative z-10 flex flex-col sm:flex-row gap-4">
                    <input type="url" id="url-input" placeholder="Enter a YouTube video or playlist URL..." class="flex-grow bg-black/40 text-white placeholder-gray-300 border-2 border-transparent focus:border-[#f52cb9] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#f52cb9] transition duration-200 w-full">
                    <button id="save-button" class="bg-[#f52cb9] hover:bg-[#d4249b] text-white font-semibold rounded-lg px-6 py-3 transition duration-200 shadow-[0_0_15px_rgba(245,44,185,0.5)] hover:shadow-[0_0_25px_rgba(245,44,185,0.8)] w-full sm:w-auto">Install</button>
                </div>
                <p class="relative z-10 text-xs text-gray-300 mt-3 text-center sm:text-left">Only YouTube links are supported.</p>
            </div>
            <main id="links-container" class="w-full max-w-2xl mt-10 grid grid-cols-1 gap-4"></main>
        </div>

        <!-- Play Page -->
        <div id="page-play" class="page-content hidden container mx-auto p-4 min-h-screen items-center justify-center w-full">
            <div class="content">
            <div class="slider-playlist">
                <div class="swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                    <img
                        src="https://github.com/user-attachments/assets/d80e6b68-b67a-4e27-86ee-e00581883d5c" />
                    <h1>Syn Cole</h1>
                    </div>
                    <div class="swiper-slide">
                    <img
                        src="https://github.com/user-attachments/assets/9240f7ff-1b8e-4e62-a2d1-df78b285c7e0" />
                    <h1>Clarx & Harddope</h1>
                    </div>
                    <div class="swiper-slide">
                    <img
                        src="https://github.com/user-attachments/assets/6e5ba953-49c5-4634-a1c5-4caf310cba86" />
                    <h1>Neffex</h1>
                    </div>
                    <div class="swiper-slide">
                    <img
                        src="https://github.com/user-attachments/assets/a2ca0dfd-e53f-4e79-b8b0-288847e59b9a" />
                    <h1>Patrick Patrikios</h1>
                    </div>
                    <div class="swiper-slide">
                    <img
                        src="https://github.com/user-attachments/assets/b286d7ff-52a1-452d-9cd9-5920c937b16e" />
                    <h1>Besomorph & Coopex</h1>
                    </div>
                </div>
                </div>

                <div class="playlist">
                <div class="playlist-item">
                    <img
                    src="https://github.com/user-attachments/assets/d80e6b68-b67a-4e27-86ee-e00581883d5c"
                    alt="" />
                    <div class="song">
                    <p>Syn Cole</p>
                    <p>Feel Good</p>
                    </div>
                    <p>3:01</p>
                    <i class="fa-regular fa-heart like-btn"></i>
                </div>
                <div class="playlist-item">
                    <img
                    src="https://github.com/user-attachments/assets/9240f7ff-1b8e-4e62-a2d1-df78b285c7e0"
                    alt="" />
                    <div class="song">
                    <p>Clarx & Harddope</p>
                    <p>Castle</p>
                    </div>
                    <p>2:38</p>
                    <i class="fa-regular fa-heart like-btn"></i>
                </div>
                <div class="playlist-item">
                    <img
                    src="https://github.com/user-attachments/assets/6e5ba953-49c5-4634-a1c5-4caf310cba86"
                    alt="" />
                    <div class="song">
                    <p>Neffex</p>
                    <p>Play Dead</p>
                    </div>
                    <p>3:31</p>
                    <i class="fa-regular fa-heart like-btn"></i>
                </div>
                <div class="playlist-item">
                    <img
                    src="https://github.com/user-attachments/assets/a2ca0dfd-e53f-4e79-b8b0-288847e59b9a"
                    alt="" />
                    <div class="song">
                    <p>Patrick Patrikios</p>
                    <p>Know Myself</p>
                    </div>
                    <p>3:23</p>
                    <i class="fa-solid fa-heart like-btn"></i>
                </div>
                <div class="playlist-item">
                    <img
                    src="https://github.com/user-attachments/assets/b286d7ff-52a1-452d-9cd9-5920c937b16e"
                    alt="" />
                    <div class="song">
                    <p>Besomorph & Coopex</p>
                    <p>Redemption</p>
                    </div>
                    <p>2:37</p>
                    <i class="fa-regular fa-heart like-btn"></i>
                </div>
                </div>
            </div>

            <div class="player">
                <audio
                id="audioPlayer"
                src="song-list/AfricanFella-CumbiaDeli.mp3"
                type="audio/mpeg"></audio>

                <div class="controls">
                <i class="fa-solid fa-shuffle" id="shuffleBtn"></i>
                <i class="fa-solid fa-backward" id="prevBtn"></i>
                <button id="playPauseBtn">
                    <i class="fa-solid fa-play" id="playPauseIcon"></i>
                </button>
                <i class="fa-solid fa-forward" id="nextBtn"></i>
                <div class="volume">
                    <i class="fa-solid fa-volume-high"></i>
                    <input
                    type="range"
                    id="volume-range"
                    min="0"
                    max="100"
                    value="100" />
                </div>
                </div>

                <input type="range" value="0" id="progress-bar" />
            </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="page-about" class="page-content hidden main-content-container container mx-auto px-4 py-8 md:py-16 min-h-screen flex flex-col items-center w-full">
             <div class="w-full max-w-2xl text-center">
                 <h1 class="text-5xl font-bold">About OUTA DOW</h1>
                 <p class="text-gray-300 mt-4 bg-black/30 p-6 rounded-lg">OUTA DOW is a modern web application designed for seamlessly grabbing your favorite content from YouTube.</p>
            </div>
        </div>
    </main>

    <!-- Navigation Bar -->
    <nav>
      <a href="#" data-page="home"><span class="label">Home</span> <i class="bx bx-home icon"></i><svg height="100%" width="100%"><g class="pink"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g><g class="blue"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g></svg></a>
      <a href="#" data-page="play"><span class="label">Play</span> <i class="bx bx-play-circle icon"></i><svg height="100%" width="100%"><g class="pink"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g><g class="blue"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g></svg></a>
      <a href="#" data-page="about"><span class="label">About</span> <i class="bx bx-user-circle icon"></i><svg height="100%" width="100%"><g class="pink"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g><g class="blue"><rect x="0" width="6" height="100" y="100%"/><rect x="6" width="6" height="100" y="100%"/><rect x="12" width="6" height="100" y="100%"/><rect x="18" width="6" height="100" y="100%"/><rect x="24" width="6" height="100" y="100%"/><rect x="30" width="6" height="100" y="100%"/><rect x="36" width="6" height="100" y="100%"/><rect x="42" width="6" height="100" y="100%"/><rect x="48" width="6" height="100" y="100%"/><rect x="54" width="6" height="100" y="100%"/><rect x="60" width="6" height="100" y="100%"/><rect x="66" width="6" height="100" y="100%"/><rect x="72" width="6" height="100" y="100%"/><rect x="78" width="6" height="100" y="100%"/><rect x="84" width="6" height="100" y="100%"/><rect x="90" width="6" height="100" y="100%"/></g></svg></a>
    </nav>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/EasePack.min.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        // --- Home Page Logic ---
        const urlInput = document.getElementById('url-input');
        const saveButton = document.getElementById('save-button');
        const linksContainer = document.getElementById('links-container');
        const toastContainer = document.getElementById('toast-container');
        
        const showToast = (message, type = 'success') => {
            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
            toast.className = `toast ${bgColor} text-white font-semibold py-2 px-4 rounded-lg shadow-lg`;
            toast.textContent = message;
            toastContainer.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        };

        const renderDownloads = () => {
            if (linksContainer.children.length === 0) {
                linksContainer.innerHTML = `<div class="no-downloads-placeholder text-center text-gray-300 py-10 rounded-lg border border-dashed border-gray-600">
                    <p class="text-lg font-semibold">No downloads yet.</p>
                    <p class="mt-1 text-gray-400">Paste a URL above to get started!</p>
                </div>`;
            } else {
                const placeholder = linksContainer.querySelector('.no-downloads-placeholder');
                if (placeholder) placeholder.remove();
            }
        };
        
        const addDownload = () => {
            const url = urlInput.value.trim();
            if (!url) { showToast('Please enter a URL.', 'error'); return; }
            try { new URL(url); } catch (_) { showToast('Please enter a valid URL.', 'error'); return; }
            renderDownloads();
            const downloadId = `download-${Date.now()}`;
            const card = document.createElement('div');
            card.className = 'download-item w-full rounded-lg p-4 border border-gray-700 shadow-lg';
            card.id = downloadId;
            card.innerHTML = `<div class="flex justify-between items-center mb-2"><p class="font-bold text-gray-100 truncate text-sm">Preparing download...</p><p id="${downloadId}-percent" class="text-sm font-semibold text-gray-300">0%</p></div><div class="w-full bg-black/30 rounded-full h-2.5"><div id="${downloadId}-fill" class="progress-bar-fill h-2.5 rounded-full" style="width: 0%"></div></div>`;
            linksContainer.prepend(card);
            urlInput.value = '';
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.floor(Math.random() * 5) + 1;
                if (progress > 100) progress = 100;
                const fill = document.getElementById(`${downloadId}-fill`);
                const percentText = document.getElementById(`${downloadId}-percent`);
                if (fill && percentText) { fill.style.width = `${progress}%`; percentText.textContent = `${progress}%`; }
                if (progress === 100) { clearInterval(interval); if(percentText) percentText.textContent = 'Completed'; card.querySelector('p').textContent = 'Download Finished'; }
            }, 200);
        };
        saveButton.addEventListener('click', addDownload);
        urlInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') addDownload(); });

        // --- Navigation and Page Switching Logic ---
        const pages = document.querySelectorAll('.page-content');
        const mainBg = document.querySelector('.bg');
        const innerBg = document.querySelector('.inner');

        const showPage = (pageId) => {
            pages.forEach(page => {
                if (page.id === `page-${pageId}`) {
                    page.classList.remove('hidden');
                    page.classList.add('flex');
                } else {
                    page.classList.add('hidden');
                    page.classList.remove('flex');
                }
            });
        };
        class NavigationEffect {
            constructor(navigation) { this.navigation = navigation; this.anchors = this.navigation.querySelectorAll("a"); this.anchors.forEach((anchor) => { anchor.addEventListener("click", (e) => { e.preventDefault(); const pageId = anchor.dataset.page; if(pageId) showPage(pageId); this.handlePrevious(); this.handleCurrent(anchor); }); }); }
            handleCurrent(current) { this.current = current; this.current.classList.add("active"); const nodes = this.getNodes(this.current); gsap.to(nodes[0], { duration: 1.8, ease: "elastic.out(1.4, 0.4)", yPercent: "-100", stagger: 0.008, overwrite: true }); gsap.to(nodes[1], { duration: 1.8, ease: "elastic.out(1.4, 0.4)", yPercent: "-100", stagger: 0.008, overwrite: true }); }
            handlePrevious() { this.previous = this.navigation.querySelector(".active"); if (this.previous) { this.previous.classList.remove("active"); const nodes = this.getNodes(this.previous); gsap.to(nodes[0], { duration: 0.2, ease: "power1.out", yPercent: "100", overwrite: true, stagger: 0.012 }); gsap.to(nodes[1], { duration: 0.2, ease: "power1.out", yPercent: "100", overwrite: true, delay: 0.02, stagger: 0.012 }); } }
            getNodes(item) { return [gsap.utils.shuffle(gsap.utils.selector(item)(".blue rect")), gsap.utils.shuffle(gsap.utils.selector(item)(".pink rect"))]; }
        }
        
        // --- Music Player Logic ---
        const playerPlaylistItems = document.querySelectorAll("#page-play .playlist-item");
        const playerLikeBtns = document.querySelectorAll("#page-play .like-btn");
        const playerAudio = document.getElementById("audioPlayer");
        const playerVolumeRange = document.getElementById("volume-range");
        const playerProgressBar = document.getElementById("progress-bar");
        const playerPlayPauseBtn = document.getElementById("playPauseBtn");
        const playerPlayPauseIcon = document.getElementById("playPauseIcon");
        const playerPrevBtn = document.getElementById("prevBtn");
        const playerNextBtn = document.getElementById("nextBtn");
        const playerShuffleBtn = document.getElementById("shuffleBtn");

        let playerCurrentSongIndex = 2;
        let playerIsSongLoaded = false;

        const playerSongs = [
            "https://github.com/ecemgo/mini-samples-great-tricks/raw/main/song-list/SynCole-FeelGood.mp3",
            "https://github.com/ecemgo/mini-samples-great-tricks/raw/main/song-list/HarddopeClarx-Castle.mp3",
            "https://github.com/ecemgo/mini-samples-great-tricks/raw/main/song-list/PlayDead-NEFFEX.mp3",
            "https://github.com/ecemgo/mini-samples-great-tricks/raw/main/song-list/KnowMyself-PatrickPatrikios.mp3",
            "https://github.com/ecemgo/mini-samples-great-tricks/raw/main/song-list/BesomorphCoopex-Redemption.mp3",
        ];

        let playerSwiper = null;
        function initializeSwiper() {
            if (document.querySelector("#page-play .swiper")) {
                playerSwiper = new Swiper("#page-play .swiper", {
                    effect: "cards",
                    cardsEffect: { perSlideOffset: 9, perSlideRotate: 3, },
                    grabCursor: true,
                    speed: 700,
                    initialSlide: 2,
                });
                playerSwiper.on("slideChange", () => {
                    const newIndex = playerSwiper.realIndex;
                    if (newIndex !== playerCurrentSongIndex) {
                        playerCurrentSongIndex = newIndex;
                        playerLoadAndPlaySong(playerCurrentSongIndex);
                    }
                });
            }
        }
        
        function playerUpdateSwiperToMatchSong(index) { if (playerSwiper && playerSwiper.activeIndex !== index) { playerSwiper.slideTo(index); } }
        function playerUpdatePlaylistHighlight(index) { playerPlaylistItems.forEach((item, i) => { i === index ? item.classList.add("active-playlist-item") : item.classList.remove("active-playlist-item"); }); }
        function playerLoadAndPlaySong(index) { playerAudio.src = playerSongs[index]; playerPlaySong(); playerUpdatePlaylistHighlight(index); playerUpdateSwiperToMatchSong(index); playerIsSongLoaded = true; }
        function playerPauseSong() { playerAudio.pause(); playerUpdatePlayPauseIcon(false); }
        
        function playerPlaySong() {
            const playPromise = playerAudio.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => { playerUpdatePlayPauseIcon(true); }).catch(error => { if (error.name !== 'AbortError') { console.error('Playback failed:', error); playerUpdatePlayPauseIcon(false); } });
            }
        }

        function playerTogglePlayPause() { if (!playerIsSongLoaded) { playerLoadAndPlaySong(playerCurrentSongIndex); } else if (playerAudio.paused) { playerPlaySong(); } else { playerPauseSong(); } }
        function playerUpdatePlayPauseIcon(isPlaying) { if (isPlaying) { playerPlayPauseIcon.classList.add("fa-pause"); playerPlayPauseIcon.classList.remove("fa-play"); } else { playerPlayPauseIcon.classList.add("fa-play"); playerPlayPauseIcon.classList.remove("fa-pause"); } }
        function playerNextSong() { playerCurrentSongIndex = (playerCurrentSongIndex + 1) % playerSongs.length; playerLoadAndPlaySong(playerCurrentSongIndex); }
        function playerPrevSong() { playerCurrentSongIndex = (playerCurrentSongIndex - 1 + playerSongs.length) % playerSongs.length; playerLoadAndPlaySong(playerCurrentSongIndex); }
        playerPlaylistItems.forEach((item, index) => { item.addEventListener("click", () => { playerCurrentSongIndex = index; playerLoadAndPlaySong(index); }); });
        if(playerPlayPauseBtn) playerPlayPauseBtn.addEventListener("click", playerTogglePlayPause);
        if(playerNextBtn) playerNextBtn.addEventListener("click", playerNextSong);
        if(playerPrevBtn) playerPrevBtn.addEventListener("click", playerPrevSong);
        if(playerAudio) {
            playerAudio.addEventListener("loadedmetadata", () => { playerProgressBar.max = playerAudio.duration; playerProgressBar.value = playerAudio.currentTime; });
            playerAudio.addEventListener("timeupdate", () => { if (!playerAudio.paused) { playerProgressBar.value = playerAudio.currentTime; } });
            playerAudio.addEventListener("ended", playerNextSong);
        }
        if(playerProgressBar) {
            playerProgressBar.addEventListener("input", () => { playerAudio.currentTime = playerProgressBar.value; });
            playerProgressBar.addEventListener("change", () => { playerPlaySong(); });
        }
        if(playerVolumeRange) playerVolumeRange.addEventListener("input", () => { playerAudio.volume = playerVolumeRange.value / 100; });
        if(playerShuffleBtn) playerShuffleBtn.addEventListener("click", () => { const randomIndex = Math.floor(Math.random() * playerSongs.length); playerCurrentSongIndex = randomIndex !== playerCurrentSongIndex ? randomIndex : (randomIndex + 1) % playerSongs.length; playerLoadAndPlaySong(playerCurrentSongIndex); });
        playerLikeBtns.forEach((likeBtn) => { likeBtn.addEventListener("click", (e) => { e.stopPropagation(); likeBtn.classList.toggle("fa-regular"); likeBtn.classList.toggle("fa-solid"); }); });
        
        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDownloads();
            gsap.registerPlugin(EasePack);
            initializeSwiper();
            const navEffect = new NavigationEffect(document.querySelector("nav"));
            const homeLink = document.querySelector('a[data-page="home"]');
            if (homeLink) navEffect.handleCurrent(homeLink);
            showPage('home');
        });
    </script>
</body>
</html>

